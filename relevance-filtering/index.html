<!DOCTYPE html><html lang="en" dir="ltr" data-theme="dark" data-has-toc data-has-sidebar class="astro-ytmxothq"> <head><meta charset="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><title>Relevance Filtering & Token Budgets | promptext</title><link rel="canonical" href="https://1broseidon.github.io/promptext/relevance-filtering/"/><link rel="sitemap" href="/promptext/sitemap-index.xml"/><link rel="shortcut icon" href="/promptext/favicon.svg" type="image/svg+xml"/><meta name="generator" content="Astro v5.15.3"/><meta name="generator" content="Starlight v0.35.3"/><meta property="og:title" content="Relevance Filtering &#38; Token Budgets"/><meta property="og:type" content="article"/><meta property="og:url" content="https://1broseidon.github.io/promptext/relevance-filtering/"/><meta property="og:locale" content="en"/><meta property="og:description" content="Smart file prioritization and token budget management for AI models"/><meta property="og:site_name" content="promptext"/><meta name="twitter:card" content="summary_large_image"/><meta name="description" content="Smart file prioritization and token budget management for AI models"/><script>
	window.StarlightThemeProvider = (() => {
		const storedTheme =
			typeof localStorage !== 'undefined' && localStorage.getItem('starlight-theme');
		const theme =
			storedTheme ||
			(window.matchMedia('(prefers-color-scheme: light)').matches ? 'light' : 'dark');
		document.documentElement.dataset.theme = theme === 'light' ? 'light' : 'dark';
		return {
			updatePickers(theme = storedTheme || 'auto') {
				document.querySelectorAll('starlight-theme-select').forEach((picker) => {
					const select = picker.querySelector('select');
					if (select) select.value = theme;
					/** @type {HTMLTemplateElement | null} */
					const tmpl = document.querySelector(`#theme-icons`);
					const newIcon = tmpl && tmpl.content.querySelector('.' + theme);
					if (newIcon) {
						const oldIcon = picker.querySelector('svg.label-icon');
						if (oldIcon) {
							oldIcon.replaceChildren(...newIcon.cloneNode(true).childNodes);
						}
					}
				});
			},
		};
	})();
</script><template id="theme-icons"><svg aria-hidden="true" class="light astro-puc6xqsz" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M5 12a1 1 0 0 0-1-1H3a1 1 0 0 0 0 2h1a1 1 0 0 0 1-1Zm.64 5-.71.71a1 1 0 0 0 0 1.41 1 1 0 0 0 1.41 0l.71-.71A1 1 0 0 0 5.64 17ZM12 5a1 1 0 0 0 1-1V3a1 1 0 0 0-2 0v1a1 1 0 0 0 1 1Zm5.66 2.34a1 1 0 0 0 .7-.29l.71-.71a1 1 0 1 0-1.41-1.41l-.66.71a1 1 0 0 0 0 1.41 1 1 0 0 0 .66.29Zm-12-.29a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.71-.71a1.004 1.004 0 1 0-1.43 1.41l.73.71ZM21 11h-1a1 1 0 0 0 0 2h1a1 1 0 0 0 0-2Zm-2.64 6A1 1 0 0 0 17 18.36l.71.71a1 1 0 0 0 1.41 0 1 1 0 0 0 0-1.41l-.76-.66ZM12 6.5a5.5 5.5 0 1 0 5.5 5.5A5.51 5.51 0 0 0 12 6.5Zm0 9a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7Zm0 3.5a1 1 0 0 0-1 1v1a1 1 0 0 0 2 0v-1a1 1 0 0 0-1-1Z"/></svg><svg aria-hidden="true" class="dark astro-puc6xqsz" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.64 13a1 1 0 0 0-1.05-.14 8.049 8.049 0 0 1-3.37.73 8.15 8.15 0 0 1-8.14-8.1 8.59 8.59 0 0 1 .25-2A1 1 0 0 0 8 2.36a10.14 10.14 0 1 0 14 11.69 1 1 0 0 0-.36-1.05Zm-9.5 6.69A8.14 8.14 0 0 1 7.08 5.22v.27a10.15 10.15 0 0 0 10.14 10.14 9.784 9.784 0 0 0 2.1-.22 8.11 8.11 0 0 1-7.18 4.32v-.04Z"/></svg><svg aria-hidden="true" class="auto astro-puc6xqsz" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg></template><link rel="stylesheet" href="/promptext/_astro/print.DNXP8c50.css" media="print"><link rel="stylesheet" href="/promptext/_astro/index.Bct5kKuI.css"><script type="module" src="/promptext/_astro/page.B1D-nYk3.js"></script></head> <body class="astro-ytmxothq"> <a href="#_top" class="astro-pr7fp4ci">Skip to content</a>  <div class="page sl-flex astro-jmg4kk3c"> <header class="header astro-jmg4kk3c"><div class="header astro-cocxmlhd"> <div class="title-wrapper sl-flex astro-cocxmlhd"> <a href="/promptext/" class="site-title sl-flex astro-enx3t72j">  <span class="astro-enx3t72j" translate="no"> promptext </span> </a>  </div> <div class="sl-flex print:hidden astro-cocxmlhd"> <site-search class="astro-cocxmlhd astro-5nx2jenv" data-translations="{&#34;placeholder&#34;:&#34;Search&#34;}"> <button data-open-modal disabled aria-label="Search" aria-keyshortcuts="Control+K" class="astro-5nx2jenv"> <svg aria-hidden="true" class="astro-5nx2jenv astro-puc6xqsz" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21.71 20.29 18 16.61A9 9 0 1 0 16.61 18l3.68 3.68a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.39ZM11 18a7 7 0 1 1 0-14 7 7 0 0 1 0 14Z"/></svg> <span class="sl-hidden md:sl-block astro-5nx2jenv" aria-hidden="true">Search</span> <kbd class="sl-hidden md:sl-flex astro-5nx2jenv" style="display: none;"> <kbd class="astro-5nx2jenv">Ctrl</kbd><kbd class="astro-5nx2jenv">K</kbd> </kbd> </button> <dialog style="padding:0" aria-label="Search" class="astro-5nx2jenv"> <div class="dialog-frame sl-flex astro-5nx2jenv">  <button data-close-modal class="sl-flex md:sl-hidden astro-5nx2jenv"> Cancel </button> <div class="search-container astro-5nx2jenv"> <div id="starlight__search" class="astro-5nx2jenv"></div> </div> </div> </dialog> </site-search>  <script>
	(() => {
		const openBtn = document.querySelector('button[data-open-modal]');
		const shortcut = openBtn?.querySelector('kbd');
		if (!openBtn || !(shortcut instanceof HTMLElement)) return;
		const platformKey = shortcut.querySelector('kbd');
		if (platformKey && /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)) {
			platformKey.textContent = '⌘';
			openBtn.setAttribute('aria-keyshortcuts', 'Meta+K');
		}
		shortcut.style.display = '';
	})();
</script> <script type="module" src="/promptext/_astro/Search.astro_astro_type_script_index_0_lang.w-eqnZgB.js"></script>   </div> <div class="sl-hidden md:sl-flex print:hidden right-group astro-cocxmlhd"> <div class="sl-flex social-icons astro-cocxmlhd"> <a href="https://github.com/1broseidon/promptext" rel="me" class="sl-flex astro-lij53wk6"><span class="sr-only astro-lij53wk6">GitHub</span><svg aria-hidden="true" class="astro-lij53wk6 astro-puc6xqsz" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-hj2ao6fc"> <span class="sr-only astro-hj2ao6fc">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-hj2ao6fc astro-puc6xqsz" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select autocomplete="off" class="astro-hj2ao6fc"> <option value="dark" class="astro-hj2ao6fc">Dark</option><option value="light" class="astro-hj2ao6fc">Light</option><option value="auto" selected class="astro-hj2ao6fc">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-hj2ao6fc astro-puc6xqsz" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script> <script type="module">const r="starlight-theme",o=e=>e==="auto"||e==="dark"||e==="light"?e:"auto",c=()=>o(typeof localStorage<"u"&&localStorage.getItem(r));function n(e){typeof localStorage<"u"&&localStorage.setItem(r,e==="light"||e==="dark"?e:"")}const l=()=>matchMedia("(prefers-color-scheme: light)").matches?"light":"dark";function t(e){StarlightThemeProvider.updatePickers(e),document.documentElement.dataset.theme=e==="auto"?l():e,n(e)}matchMedia("(prefers-color-scheme: light)").addEventListener("change",()=>{c()==="auto"&&t("auto")});class s extends HTMLElement{constructor(){super(),t(c()),this.querySelector("select")?.addEventListener("change",a=>{a.currentTarget instanceof HTMLSelectElement&&t(o(a.currentTarget.value))})}}customElements.define("starlight-theme-select",s);</script> <script type="module">class s extends HTMLElement{constructor(){super();const e=this.querySelector("select");e&&(e.addEventListener("change",t=>{t.currentTarget instanceof HTMLSelectElement&&(window.location.pathname=t.currentTarget.value)}),window.addEventListener("pageshow",t=>{if(!t.persisted)return;const n=e.querySelector("option[selected]")?.index;n!==e.selectedIndex&&(e.selectedIndex=n??0)}))}}customElements.define("starlight-lang-select",s);</script> </div> </div> </header> <nav class="sidebar print:hidden astro-jmg4kk3c" aria-label="Main"> <starlight-menu-button class="print:hidden astro-qsn3ihlr"> <button aria-expanded="false" aria-label="Menu" aria-controls="starlight__sidebar" class="sl-flex md:sl-hidden astro-qsn3ihlr"> <svg aria-hidden="true" class="open-menu astro-qsn3ihlr astro-puc6xqsz" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M3 8h18a1 1 0 1 0 0-2H3a1 1 0 0 0 0 2Zm18 8H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Zm0-5H3a1 1 0 0 0 0 2h18a1 1 0 0 0 0-2Z"/></svg> <svg aria-hidden="true" class="close-menu astro-qsn3ihlr astro-puc6xqsz" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="m13.41 12 6.3-6.29a1.004 1.004 0 1 0-1.42-1.42L12 10.59l-6.29-6.3a1.004 1.004 0 0 0-1.42 1.42l6.3 6.29-6.3 6.29a1 1 0 0 0 0 1.42.998.998 0 0 0 1.42 0l6.29-6.3 6.29 6.3a.999.999 0 0 0 1.42 0 1 1 0 0 0 0-1.42L13.41 12Z"/></svg> </button> </starlight-menu-button> <script type="module">class s extends HTMLElement{constructor(){super(),this.btn=this.querySelector("button"),this.btn.addEventListener("click",()=>this.toggleExpanded());const t=this.closest("nav");t&&t.addEventListener("keyup",e=>this.closeOnEscape(e))}setExpanded(t){this.setAttribute("aria-expanded",String(t)),document.body.toggleAttribute("data-mobile-menu-expanded",t)}toggleExpanded(){this.setExpanded(this.getAttribute("aria-expanded")!=="true")}closeOnEscape(t){t.code==="Escape"&&(this.setExpanded(!1),this.btn.focus())}}customElements.define("starlight-menu-button",s);</script>   <div id="starlight__sidebar" class="sidebar-pane astro-jmg4kk3c"> <div class="sidebar-content sl-flex astro-jmg4kk3c"> <sl-sidebar-state-persist data-hash="0bi3gy6" class="astro-hkn3ta2n"> <script aria-hidden="true">
		(() => {
			try {
				if (!matchMedia('(min-width: 50em)').matches) return;
				/** @type {HTMLElement | null} */
				const target = document.querySelector('sl-sidebar-state-persist');
				const state = JSON.parse(sessionStorage.getItem('sl-sidebar-state') || '0');
				if (!target || !state || target.dataset.hash !== state.hash) return;
				window._starlightScrollRestore = state.scroll;
				customElements.define(
					'sl-sidebar-restore',
					class SidebarRestore extends HTMLElement {
						connectedCallback() {
							try {
								const idx = parseInt(this.dataset.index || '');
								const details = this.closest('details');
								if (details && typeof state.open[idx] === 'boolean') details.open = state.open[idx];
							} catch {}
						}
					}
				);
			} catch {}
		})();
	</script>  <ul class="top-level astro-qjqnfu3a"> <li class="astro-qjqnfu3a"> <a href="/promptext/" aria-current="false" class="large astro-qjqnfu3a"> <span class="astro-qjqnfu3a">Introduction</span>  </a> </li><li class="astro-qjqnfu3a"> <a href="/promptext/getting-started/" aria-current="false" class="large astro-qjqnfu3a"> <span class="astro-qjqnfu3a">Getting Started</span>  </a> </li><li class="astro-qjqnfu3a"> <a href="/promptext/configuration/" aria-current="false" class="large astro-qjqnfu3a"> <span class="astro-qjqnfu3a">Configuration</span>  </a> </li><li class="astro-qjqnfu3a"> <a href="/promptext/file-filtering/" aria-current="false" class="large astro-qjqnfu3a"> <span class="astro-qjqnfu3a">File Filtering</span>  </a> </li><li class="astro-qjqnfu3a"> <a href="/promptext/token-analysis/" aria-current="false" class="large astro-qjqnfu3a"> <span class="astro-qjqnfu3a">Token Analysis</span>  </a> </li><li class="astro-qjqnfu3a"> <a href="/promptext/project-analysis/" aria-current="false" class="large astro-qjqnfu3a"> <span class="astro-qjqnfu3a">Project Analysis</span>  </a> </li><li class="astro-qjqnfu3a"> <a href="/promptext/output-formats/" aria-current="false" class="large astro-qjqnfu3a"> <span class="astro-qjqnfu3a">Output Formats</span>  </a> </li><li class="astro-qjqnfu3a"> <a href="/promptext/performance/" aria-current="false" class="large astro-qjqnfu3a"> <span class="astro-qjqnfu3a">Performance</span>  </a> </li><li class="astro-qjqnfu3a"> <a href="/promptext/changelog/" aria-current="false" class="large astro-qjqnfu3a"> <span class="astro-qjqnfu3a">Changelog</span>  </a> </li> </ul>   <script aria-hidden="true">
		(() => {
			const scroller = document.getElementById('starlight__sidebar');
			if (!window._starlightScrollRestore || !scroller) return;
			scroller.scrollTop = window._starlightScrollRestore;
			delete window._starlightScrollRestore;
		})();
	</script> </sl-sidebar-state-persist>  <div class="md:sl-hidden"> <div class="mobile-preferences sl-flex astro-smcqab2b"> <div class="social-icons astro-smcqab2b"> <a href="https://github.com/1broseidon/promptext" rel="me" class="sl-flex astro-lij53wk6"><span class="sr-only astro-lij53wk6">GitHub</span><svg aria-hidden="true" class="astro-lij53wk6 astro-puc6xqsz" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M12 .3a12 12 0 0 0-3.8 23.38c.6.12.83-.26.83-.57L9 21.07c-3.34.72-4.04-1.61-4.04-1.61-.55-1.39-1.34-1.76-1.34-1.76-1.08-.74.09-.73.09-.73 1.2.09 1.83 1.24 1.83 1.24 1.08 1.83 2.81 1.3 3.5 1 .1-.78.42-1.31.76-1.61-2.67-.3-5.47-1.33-5.47-5.93 0-1.31.47-2.38 1.24-3.22-.14-.3-.54-1.52.1-3.18 0 0 1-.32 3.3 1.23a11.5 11.5 0 0 1 6 0c2.28-1.55 3.29-1.23 3.29-1.23.64 1.66.24 2.88.12 3.18a4.65 4.65 0 0 1 1.23 3.22c0 4.61-2.8 5.63-5.48 5.92.42.36.81 1.1.81 2.22l-.01 3.29c0 .31.2.69.82.57A12 12 0 0 0 12 .3Z"/></svg></a> </div> <starlight-theme-select>  <label style="--sl-select-width: 6.25em" class="astro-hj2ao6fc"> <span class="sr-only astro-hj2ao6fc">Select theme</span> <svg aria-hidden="true" class="icon label-icon astro-hj2ao6fc astro-puc6xqsz" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M21 14h-1V7a3 3 0 0 0-3-3H7a3 3 0 0 0-3 3v7H3a1 1 0 0 0-1 1v2a3 3 0 0 0 3 3h14a3 3 0 0 0 3-3v-2a1 1 0 0 0-1-1ZM6 7a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v7H6V7Zm14 10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1v-1h16v1Z"/></svg> <select autocomplete="off" class="astro-hj2ao6fc"> <option value="dark" class="astro-hj2ao6fc">Dark</option><option value="light" class="astro-hj2ao6fc">Light</option><option value="auto" selected class="astro-hj2ao6fc">Auto</option> </select> <svg aria-hidden="true" class="icon caret astro-hj2ao6fc astro-puc6xqsz" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1em;"><path d="M17 9.17a1 1 0 0 0-1.41 0L12 12.71 8.46 9.17a1 1 0 1 0-1.41 1.42l4.24 4.24a1.002 1.002 0 0 0 1.42 0L17 10.59a1.002 1.002 0 0 0 0-1.42Z"/></svg> </label>  </starlight-theme-select>  <script>
	StarlightThemeProvider.updatePickers();
</script>   </div>  </div> </div> </div> </nav> <div class="main-frame astro-jmg4kk3c">  <script type="module">const a=document.getElementById("starlight__sidebar"),n=a?.querySelector("sl-sidebar-state-persist"),o="sl-sidebar-state",i=()=>{let t=[];const e=n?.dataset.hash||"";try{const s=sessionStorage.getItem(o),r=JSON.parse(s||"{}");Array.isArray(r.open)&&r.hash===e&&(t=r.open)}catch{}return{hash:e,open:t,scroll:a?.scrollTop||0}},c=t=>{try{sessionStorage.setItem(o,JSON.stringify(t))}catch{}},d=()=>c(i()),l=(t,e)=>{const s=i();s.open[e]=t,c(s)};n?.addEventListener("click",t=>{if(!(t.target instanceof Element))return;const e=t.target.closest("summary")?.closest("details");if(!e)return;const s=e.querySelector("sl-sidebar-restore"),r=parseInt(s?.dataset.index||"");isNaN(r)||l(!e.open,r)});addEventListener("visibilitychange",()=>{document.visibilityState==="hidden"&&d()});addEventListener("pageHide",d);</script> <div class="lg:sl-flex astro-vhuxnifm"> <aside class="right-sidebar-container print:hidden astro-vhuxnifm"> <div class="right-sidebar astro-vhuxnifm"> <div class="lg:sl-hidden astro-qaclqfc6"><mobile-starlight-toc data-min-h="2" data-max-h="3" class="astro-ztrhoakt"><nav aria-labelledby="starlight__on-this-page--mobile" class="astro-ztrhoakt"><details id="starlight__mobile-toc" class="astro-ztrhoakt"><summary id="starlight__on-this-page--mobile" class="sl-flex astro-ztrhoakt"><span class="toggle sl-flex astro-ztrhoakt">On this page<svg aria-hidden="true" class="caret astro-ztrhoakt astro-puc6xqsz" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1rem;"><path d="m14.83 11.29-4.24-4.24a1 1 0 1 0-1.42 1.41L12.71 12l-3.54 3.54a1 1 0 0 0 0 1.41 1 1 0 0 0 .71.29 1 1 0 0 0 .71-.29l4.24-4.24a1.002 1.002 0 0 0 0-1.42Z"/></svg></span><span class="display-current astro-ztrhoakt"></span></summary><div class="dropdown astro-ztrhoakt"><ul class="isMobile astro-mkr4jprb" style="--depth: 0;"> <li class="astro-mkr4jprb" style="--depth: 0;"> <a href="#_top" class="astro-mkr4jprb" style="--depth: 0;"> <span class="astro-mkr4jprb" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 0;"> <a href="#overview" class="astro-mkr4jprb" style="--depth: 0;"> <span class="astro-mkr4jprb" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 0;"> <a href="#relevance-filtering" class="astro-mkr4jprb" style="--depth: 0;"> <span class="astro-mkr4jprb" style="--depth: 0;">Relevance Filtering</span> </a> <ul class="isMobile astro-mkr4jprb" style="--depth: 1;"> <li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#basic-usage" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Basic Usage</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#multi-factor-scoring" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Multi-Factor Scoring</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#prioritization-strategy" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Prioritization Strategy</span> </a>  </li> </ul>  </li><li class="astro-mkr4jprb" style="--depth: 0;"> <a href="#token-budget-management" class="astro-mkr4jprb" style="--depth: 0;"> <span class="astro-mkr4jprb" style="--depth: 0;">Token Budget Management</span> </a> <ul class="isMobile astro-mkr4jprb" style="--depth: 1;"> <li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#basic-usage-1" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Basic Usage</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#budget-allocation" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Budget Allocation</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#filtered-directory-tree" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Filtered Directory Tree</span> </a>  </li> </ul>  </li><li class="astro-mkr4jprb" style="--depth: 0;"> <a href="#use-cases" class="astro-mkr4jprb" style="--depth: 0;"> <span class="astro-mkr4jprb" style="--depth: 0;">Use Cases</span> </a> <ul class="isMobile astro-mkr4jprb" style="--depth: 1;"> <li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#ai-model-context-windows" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">AI Model Context Windows</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#cost-optimization" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Cost Optimization</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#focused-context" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Focused Context</span> </a>  </li> </ul>  </li><li class="astro-mkr4jprb" style="--depth: 0;"> <a href="#advanced-combinations" class="astro-mkr4jprb" style="--depth: 0;"> <span class="astro-mkr4jprb" style="--depth: 0;">Advanced Combinations</span> </a> <ul class="isMobile astro-mkr4jprb" style="--depth: 1;"> <li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#relevance--budget--format" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Relevance + Budget + Format</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#file-type--relevance--budget" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">File Type + Relevance + Budget</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#exclude--relevance--budget" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Exclude + Relevance + Budget</span> </a>  </li> </ul>  </li><li class="astro-mkr4jprb" style="--depth: 0;"> <a href="#best-practices" class="astro-mkr4jprb" style="--depth: 0;"> <span class="astro-mkr4jprb" style="--depth: 0;">Best Practices</span> </a> <ul class="isMobile astro-mkr4jprb" style="--depth: 1;"> <li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#keyword-selection" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Keyword Selection</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#budget-guidelines" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Budget Guidelines</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#workflow-tips" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Workflow Tips</span> </a>  </li> </ul>  </li><li class="astro-mkr4jprb" style="--depth: 0;"> <a href="#configuration" class="astro-mkr4jprb" style="--depth: 0;"> <span class="astro-mkr4jprb" style="--depth: 0;">Configuration</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 0;"> <a href="#troubleshooting" class="astro-mkr4jprb" style="--depth: 0;"> <span class="astro-mkr4jprb" style="--depth: 0;">Troubleshooting</span> </a>  </li> </ul> </div></details></nav></mobile-starlight-toc><script type="module" src="/promptext/_astro/MobileTableOfContents.astro_astro_type_script_index_0_lang.C181hMzK.js"></script></div><div class="right-sidebar-panel sl-hidden lg:sl-block astro-qaclqfc6"><div class="sl-container astro-qaclqfc6"><starlight-toc data-min-h="2" data-max-h="3"><nav aria-labelledby="starlight__on-this-page"><h2 id="starlight__on-this-page">On this page</h2><ul class="astro-mkr4jprb" style="--depth: 0;"> <li class="astro-mkr4jprb" style="--depth: 0;"> <a href="#_top" class="astro-mkr4jprb" style="--depth: 0;"> <span class="astro-mkr4jprb" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 0;"> <a href="#overview" class="astro-mkr4jprb" style="--depth: 0;"> <span class="astro-mkr4jprb" style="--depth: 0;">Overview</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 0;"> <a href="#relevance-filtering" class="astro-mkr4jprb" style="--depth: 0;"> <span class="astro-mkr4jprb" style="--depth: 0;">Relevance Filtering</span> </a> <ul class="astro-mkr4jprb" style="--depth: 1;"> <li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#basic-usage" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Basic Usage</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#multi-factor-scoring" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Multi-Factor Scoring</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#prioritization-strategy" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Prioritization Strategy</span> </a>  </li> </ul>  </li><li class="astro-mkr4jprb" style="--depth: 0;"> <a href="#token-budget-management" class="astro-mkr4jprb" style="--depth: 0;"> <span class="astro-mkr4jprb" style="--depth: 0;">Token Budget Management</span> </a> <ul class="astro-mkr4jprb" style="--depth: 1;"> <li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#basic-usage-1" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Basic Usage</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#budget-allocation" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Budget Allocation</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#filtered-directory-tree" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Filtered Directory Tree</span> </a>  </li> </ul>  </li><li class="astro-mkr4jprb" style="--depth: 0;"> <a href="#use-cases" class="astro-mkr4jprb" style="--depth: 0;"> <span class="astro-mkr4jprb" style="--depth: 0;">Use Cases</span> </a> <ul class="astro-mkr4jprb" style="--depth: 1;"> <li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#ai-model-context-windows" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">AI Model Context Windows</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#cost-optimization" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Cost Optimization</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#focused-context" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Focused Context</span> </a>  </li> </ul>  </li><li class="astro-mkr4jprb" style="--depth: 0;"> <a href="#advanced-combinations" class="astro-mkr4jprb" style="--depth: 0;"> <span class="astro-mkr4jprb" style="--depth: 0;">Advanced Combinations</span> </a> <ul class="astro-mkr4jprb" style="--depth: 1;"> <li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#relevance--budget--format" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Relevance + Budget + Format</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#file-type--relevance--budget" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">File Type + Relevance + Budget</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#exclude--relevance--budget" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Exclude + Relevance + Budget</span> </a>  </li> </ul>  </li><li class="astro-mkr4jprb" style="--depth: 0;"> <a href="#best-practices" class="astro-mkr4jprb" style="--depth: 0;"> <span class="astro-mkr4jprb" style="--depth: 0;">Best Practices</span> </a> <ul class="astro-mkr4jprb" style="--depth: 1;"> <li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#keyword-selection" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Keyword Selection</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#budget-guidelines" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Budget Guidelines</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 1;"> <a href="#workflow-tips" class="astro-mkr4jprb" style="--depth: 1;"> <span class="astro-mkr4jprb" style="--depth: 1;">Workflow Tips</span> </a>  </li> </ul>  </li><li class="astro-mkr4jprb" style="--depth: 0;"> <a href="#configuration" class="astro-mkr4jprb" style="--depth: 0;"> <span class="astro-mkr4jprb" style="--depth: 0;">Configuration</span> </a>  </li><li class="astro-mkr4jprb" style="--depth: 0;"> <a href="#troubleshooting" class="astro-mkr4jprb" style="--depth: 0;"> <span class="astro-mkr4jprb" style="--depth: 0;">Troubleshooting</span> </a>  </li> </ul> </nav></starlight-toc><script type="module" src="/promptext/_astro/TableOfContents.astro_astro_type_script_index_0_lang.CKWWgpjV.js"></script></div></div> </div> </aside> <div class="main-pane astro-vhuxnifm">  <main data-pagefind-body class="astro-ytmxothq" lang="en" dir="ltr">    <div class="content-panel astro-4sscy66v"> <div class="sl-container astro-4sscy66v"> <h1 id="_top" class="astro-sbudulp7">Relevance Filtering &amp; Token Budgets</h1>  </div> </div>  <div class="content-panel astro-4sscy66v"> <div class="sl-container astro-4sscy66v"> <div class="sl-markdown-content"> <div class="sl-heading-wrapper level-h2"><h2 id="overview">Overview</h2><a class="sl-anchor-link" href="#overview"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Overview”</span></a></div>
<p>Relevance filtering intelligently prioritizes files based on keyword matching, allowing you to focus on the most important code for your task. Combined with token budgets, this ensures your context stays within AI model limits while including the most relevant information.</p>
<div class="sl-heading-wrapper level-h2"><h2 id="relevance-filtering">Relevance Filtering</h2><a class="sl-anchor-link" href="#relevance-filtering"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Relevance Filtering”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="basic-usage">Basic Usage</h3><a class="sl-anchor-link" href="#basic-usage"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Basic Usage”</span></a></div>
<p>Prioritize files matching specific keywords:</p>
<div class="expressive-code"><link rel="stylesheet" href="/promptext/_astro/ec.v4551.css"><script type="module" src="/promptext/_astro/ec.p1z7b.js"></script><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Prioritize authentication-related files</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--relevant</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">auth login OAuth</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Short form</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">database SQL postgres</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Multiple keywords (comma or space separated)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">api,routes,handlers</span><span style="--0:#D9F5DD;--1:#111111">"</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="promptext --relevant &#x22;auth login OAuth&#x22;promptext -r &#x22;database SQL postgres&#x22;promptext -r &#x22;api,routes,handlers&#x22;"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="multi-factor-scoring">Multi-Factor Scoring</h3><a class="sl-anchor-link" href="#multi-factor-scoring"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Multi-Factor Scoring”</span></a></div>
<p>Promptext uses multi-factor scoring to determine file relevance:</p>






























<table><thead><tr><th>Match Location</th><th>Weight</th><th>Example</th></tr></thead><tbody><tr><td>Filename</td><td>10x</td><td><code dir="auto">auth.go</code> matches “auth”</td></tr><tr><td>Directory</td><td>5x</td><td><code dir="auto">internal/auth/</code> matches “auth”</td></tr><tr><td>Imports</td><td>3x</td><td><code dir="auto">import "auth"</code> matches “auth”</td></tr><tr><td>Content</td><td>1x</td><td><code dir="auto">func authenticate()</code> matches “auth”</td></tr></tbody></table>
<p><strong>Scoring Example:</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">File: internal/auth/handler.go</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Keywords: "auth"</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Matches:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">- Filename "handler.go" ❌ (0 points)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">- Directory "internal/auth" ✓ (5 points)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">- Import "github.com/pkg/auth" ✓ (3 points)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">- Content "authentication" appears 4x ✓ (4 points)</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">Total Score: 12 points</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="File: internal/auth/handler.goKeywords: &#x22;auth&#x22;Matches:- Filename &#x22;handler.go&#x22; ❌ (0 points)- Directory &#x22;internal/auth&#x22; ✓ (5 points)- Import &#x22;github.com/pkg/auth&#x22; ✓ (3 points)- Content &#x22;authentication&#x22; appears 4x ✓ (4 points)Total Score: 12 points"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="prioritization-strategy">Prioritization Strategy</h3><a class="sl-anchor-link" href="#prioritization-strategy"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Prioritization Strategy”</span></a></div>
<p>Files are sorted by priority:</p>
<ol>
<li><strong>Entry points with high relevance</strong> - <code dir="auto">main.go</code>, <code dir="auto">index.js</code>, etc. matching keywords</li>
<li><strong>High relevance files</strong> - Score above threshold (5 points)</li>
<li><strong>Shallow files first</strong> - Prefer root-level over deeply nested</li>
<li><strong>Config files</strong> - Configuration before implementation</li>
<li><strong>Tests last</strong> - Test files have lowest priority</li>
</ol>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># With --relevant flag, files are prioritized:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">database</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-e</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">.go</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Priority order:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 1. cmd/main.go (entry point, mentions database)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 2. internal/database/conn.go (filename + directory match)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 3. internal/database/queries.go (directory match)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 4. internal/config/database.go (config + filename match)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 5. pkg/models/user.go (imports database package)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># 6. internal/database/conn_test.go (test file)</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="promptext -r &#x22;database&#x22; -e .go"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h2"><h2 id="token-budget-management">Token Budget Management</h2><a class="sl-anchor-link" href="#token-budget-management"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Token Budget Management”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="basic-usage-1">Basic Usage</h3><a class="sl-anchor-link" href="#basic-usage-1"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Basic Usage”</span></a></div>
<p>Limit output to stay within token constraints:</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Limit to 8000 tokens (Claude Haiku sweet spot)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">8000</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Combine with relevance for smart prioritization</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">api routes</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">5000</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Quick context for simple queries</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">3000</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="promptext --max-tokens 8000promptext -r &#x22;api routes&#x22; --max-tokens 5000promptext --max-tokens 3000"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="budget-allocation">Budget Allocation</h3><a class="sl-anchor-link" href="#budget-allocation"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Budget Allocation”</span></a></div>
<p>When a token budget is set:</p>
<ol>
<li><strong>Calculate overhead</strong> - Directory tree, git info, metadata (~500-2000 tokens)</li>
<li><strong>Available budget</strong> - Total budget minus overhead</li>
<li><strong>Include files</strong> - Add highest-priority files until budget exhausted</li>
<li><strong>Report exclusions</strong> - Show what was excluded and why</li>
</ol>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="plaintext"><code><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">╭───────────────────────────────────────────────╮</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│ 📦 promptext (Go)                             │</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│    Included: 7/18 files • ~4,847 tokens       │</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">│    Full project: 18 files • ~19,512 tokens    │</span></div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">╰───────────────────────────────────────────────╯</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#d6deeb;--1:#403f53">⚠️  Excluded 11 files due to token budget:</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">• internal/cli/commands.go (~784 tokens)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">• internal/app/app.go (~60 tokens)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">• internal/ollama/client.go (~211 tokens)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">• PROJECT_PLAN.md (~202 tokens)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">• README.md (~279 tokens)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">... and 6 more files (~7,761 tokens)</span></div></div><div class="ec-line"><div class="code"><span class="indent"><span style="--0:#d6deeb;--1:#403f53">    </span></span><span style="--0:#d6deeb;--1:#403f53">Total excluded: ~9,297 tokens</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="╭───────────────────────────────────────────────╮│ 📦 promptext (Go)                             ││    Included: 7/18 files • ~4,847 tokens       ││    Full project: 18 files • ~19,512 tokens    │╰───────────────────────────────────────────────╯⚠️  Excluded 11 files due to token budget:    • internal/cli/commands.go (~784 tokens)    • internal/app/app.go (~60 tokens)    • internal/ollama/client.go (~211 tokens)    • PROJECT_PLAN.md (~202 tokens)    • README.md (~279 tokens)    ... and 6 more files (~7,761 tokens)    Total excluded: ~9,297 tokens"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="filtered-directory-tree">Filtered Directory Tree</h3><a class="sl-anchor-link" href="#filtered-directory-tree"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Filtered Directory Tree”</span></a></div>
<p>The directory structure automatically adjusts to show only included files:</p>
<p><strong>Without token budget:</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">structure</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">cmd/chain[1]</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">main.go</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">internal/cli[5]</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">commands.go,flags.go,help.go,output.go,version.go</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">internal/app[1]</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">app.go</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="structure:  cmd/chain[1]: main.go  internal/cli[5]: commands.go,flags.go,help.go,output.go,version.go  internal/app[1]: app.go"><div></div></button></div></figure></div>
<p><strong>With token budget (5000 tokens):</strong></p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#7FDBCA;--1:#111111">structure</span><span style="--0:#D6DEEB;--1:#403F53">:</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">cmd/chain[1]</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">main.go</span></div></div><div class="ec-line"><div class="code"><span class="indent">  </span><span style="--0:#7FDBCA;--1:#111111">internal/cli[2]</span><span style="--0:#D6DEEB;--1:#403F53">: </span><span style="--0:#ECC48D;--1:#3B61B0">commands.go,help.go</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="structure:  cmd/chain[1]: main.go  internal/cli[2]: commands.go,help.go"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h2"><h2 id="use-cases">Use Cases</h2><a class="sl-anchor-link" href="#use-cases"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Use Cases”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="ai-model-context-windows">AI Model Context Windows</h3><a class="sl-anchor-link" href="#ai-model-context-windows"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “AI Model Context Windows”</span></a></div>
<p>Match your budget to AI model capabilities:</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Claude Haiku (100k context, but efficient at 8k)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">8000</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Claude Sonnet/Opus (200k context)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">100000</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># GPT-3.5-Turbo (16k context)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">12000</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># GPT-4 (8k context, older models)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">6000</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="promptext --max-tokens 8000promptext --max-tokens 100000promptext --max-tokens 12000promptext --max-tokens 6000"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="cost-optimization">Cost Optimization</h3><a class="sl-anchor-link" href="#cost-optimization"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Cost Optimization”</span></a></div>
<p>Fewer tokens = lower API costs:</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Quick question about architecture</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">architecture design</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">3000</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Detailed API review</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">api endpoints routes</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">10000</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Full codebase analysis (cost-aware)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">50000</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="promptext -r &#x22;architecture design&#x22; --max-tokens 3000promptext -r &#x22;api endpoints routes&#x22; --max-tokens 10000promptext --max-tokens 50000"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="focused-context">Focused Context</h3><a class="sl-anchor-link" href="#focused-context"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Focused Context”</span></a></div>
<p>Zero in on specific functionality:</p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Authentication system only</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">auth login session OAuth</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">8000</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Database layer only</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">database SQL migration schema</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">6000</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># API routes and handlers</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">routes handlers endpoints middleware</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">7000</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="promptext -r &#x22;auth login session OAuth&#x22; --max-tokens 8000promptext -r &#x22;database SQL migration schema&#x22; --max-tokens 6000promptext -r &#x22;routes handlers endpoints middleware&#x22; --max-tokens 7000"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h2"><h2 id="advanced-combinations">Advanced Combinations</h2><a class="sl-anchor-link" href="#advanced-combinations"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Advanced Combinations”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="relevance--budget--format">Relevance + Budget + Format</h3><a class="sl-anchor-link" href="#relevance--budget--format"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Relevance + Budget + Format”</span></a></div>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Token-optimized TOON format with relevance filtering</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">testing unittest</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">5000</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-o</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">tests.toon</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Focused markdown for documentation</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">api public</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">8000</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-o</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">api-docs.md</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># XML for CI/CD with budget control</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">config deployment</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">10000</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-o</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">deploy.xml</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="promptext -r &#x22;testing unittest&#x22; --max-tokens 5000 -o tests.toonpromptext -r &#x22;api public&#x22; --max-tokens 8000 -o api-docs.mdpromptext -r &#x22;config deployment&#x22; --max-tokens 10000 -o deploy.xml"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="file-type--relevance--budget">File Type + Relevance + Budget</h3><a class="sl-anchor-link" href="#file-type--relevance--budget"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “File Type + Relevance + Budget”</span></a></div>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Go files only, auth-related, within 6k tokens</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-e</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">.go</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">auth security</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">6000</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># TypeScript API files, limited context</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-e</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#ECC48D;--1:#3B61B0">.ts,.tsx</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">api fetch axios</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">4000</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="promptext -e .go -r &#x22;auth security&#x22; --max-tokens 6000promptext -e .ts,.tsx -r &#x22;api fetch axios&#x22; --max-tokens 4000"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h3"><h3 id="exclude--relevance--budget">Exclude + Relevance + Budget</h3><a class="sl-anchor-link" href="#exclude--relevance--budget"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Exclude + Relevance + Budget”</span></a></div>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Exclude tests, focus on core logic, limit tokens</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-x</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">test/,spec/</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">business logic core</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">8000</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Exclude vendors, focus on database, optimize for Claude Haiku</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-x</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">vendor/,node_modules/</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">database</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">8000</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="promptext -x &#x22;test/,spec/&#x22; -r &#x22;business logic core&#x22; --max-tokens 8000promptext -x &#x22;vendor/,node_modules/&#x22; -r &#x22;database&#x22; --max-tokens 8000"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h2"><h2 id="best-practices">Best Practices</h2><a class="sl-anchor-link" href="#best-practices"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Best Practices”</span></a></div>
<div class="sl-heading-wrapper level-h3"><h3 id="keyword-selection">Keyword Selection</h3><a class="sl-anchor-link" href="#keyword-selection"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Keyword Selection”</span></a></div>
<p><strong>Good keywords:</strong></p>
<ul>
<li>Specific: “authentication”, “database”, “api”</li>
<li>Domain-relevant: “OAuth”, “JWT”, “PostgreSQL”</li>
<li>Functional: “routes”, “handlers”, “middleware”</li>
</ul>
<p><strong>Avoid:</strong></p>
<ul>
<li>Too broad: “code”, “function”, “class”</li>
<li>Too specific: “line42”, “temporary”</li>
<li>Common words: “get”, “set”, “data”</li>
</ul>
<div class="sl-heading-wrapper level-h3"><h3 id="budget-guidelines">Budget Guidelines</h3><a class="sl-anchor-link" href="#budget-guidelines"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Budget Guidelines”</span></a></div>






























<table><thead><tr><th>Task Type</th><th>Recommended Budget</th><th>Rationale</th></tr></thead><tbody><tr><td>Quick questions</td><td>2,000-3,000</td><td>Architecture docs + entry points</td></tr><tr><td>Feature review</td><td>5,000-8,000</td><td>Relevant subsystem + context</td></tr><tr><td>Full codebase</td><td>15,000-50,000</td><td>Complete understanding</td></tr><tr><td>Debug session</td><td>6,000-10,000</td><td>Error context + related code</td></tr></tbody></table>
<div class="sl-heading-wrapper level-h3"><h3 id="workflow-tips">Workflow Tips</h3><a class="sl-anchor-link" href="#workflow-tips"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Workflow Tips”</span></a></div>
<p><strong>1. Start narrow:</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Get focused context first</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">payment checkout</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">5000</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="promptext -r &#x22;payment checkout&#x22; --max-tokens 5000"><div></div></button></div></figure></div>
<p><strong>2. Expand if needed:</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Increase budget or broaden keywords</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">payment checkout stripe</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">10000</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="promptext -r &#x22;payment checkout stripe&#x22; --max-tokens 10000"><div></div></button></div></figure></div>
<p><strong>3. Use dry-run to preview:</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># See what would be included</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">auth</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">5000</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--dry-run</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="promptext -r &#x22;auth&#x22; --max-tokens 5000 --dry-run"><div></div></button></div></figure></div>
<p><strong>4. Check exclusions:</strong></p>
<div class="expressive-code"><figure class="frame is-terminal not-content"><figcaption class="header"><span class="title"></span><span class="sr-only">Terminal window</span></figcaption><pre data-language="bash"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Review what was excluded</span></div></div><div class="ec-line"><div class="code"><span style="--0:#82AAFF;--1:#3B61B0">promptext</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">-r</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#ECC48D;--1:#984E4D">api</span><span style="--0:#D9F5DD;--1:#111111">"</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#82AAFF;--1:#3B61B0">--max-tokens</span><span style="--0:#D6DEEB;--1:#403F53"> </span><span style="--0:#F78C6C;--1:#AA0982">8000</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Read the exclusion summary to see if critical files were missed</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="promptext -r &#x22;api&#x22; --max-tokens 8000"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h2"><h2 id="configuration">Configuration</h2><a class="sl-anchor-link" href="#configuration"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Configuration”</span></a></div>
<p>Set defaults in <code dir="auto">.promptext.yml</code>:</p>
<div class="expressive-code"><figure class="frame not-content"><figcaption class="header"></figcaption><pre data-language="yaml"><code><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Not recommended: relevance keywords should be task-specific</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># Better to specify on command line</span></div></div><div class="ec-line"><div class="code">
</div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># But token budget can be a good default:</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># (commented out by default)</span></div></div><div class="ec-line"><div class="code"><span style="--0:#919F9F;--1:#5F636F"># max-tokens: 8000  # Default budget for this project</span></div></div></code></pre><div class="copy"><button title="Copy to clipboard" data-copied="Copied!" data-code="# Not recommended: relevance keywords should be task-specific# Better to specify on command line# But token budget can be a good default:# (commented out by default)# max-tokens: 8000  # Default budget for this project"><div></div></button></div></figure></div>
<div class="sl-heading-wrapper level-h2"><h2 id="troubleshooting">Troubleshooting</h2><a class="sl-anchor-link" href="#troubleshooting"><span aria-hidden="true" class="sl-anchor-icon"><svg width="16" height="16" viewBox="0 0 24 24"><path fill="currentcolor" d="m12.11 15.39-3.88 3.88a2.52 2.52 0 0 1-3.5 0 2.47 2.47 0 0 1 0-3.5l3.88-3.88a1 1 0 0 0-1.42-1.42l-3.88 3.89a4.48 4.48 0 0 0 6.33 6.33l3.89-3.88a1 1 0 1 0-1.42-1.42Zm8.58-12.08a4.49 4.49 0 0 0-6.33 0l-3.89 3.88a1 1 0 0 0 1.42 1.42l3.88-3.88a2.52 2.52 0 0 1 3.5 0 2.47 2.47 0 0 1 0 3.5l-3.88 3.88a1 1 0 1 0 1.42 1.42l3.88-3.89a4.49 4.49 0 0 0 0-6.33ZM8.83 15.17a1 1 0 0 0 1.1.22 1 1 0 0 0 .32-.22l4.92-4.92a1 1 0 0 0-1.42-1.42l-4.92 4.92a1 1 0 0 0 0 1.42Z"></path></svg></span><span class="sr-only">Section titled “Troubleshooting”</span></a></div>
<p><strong>Missing important files?</strong></p>
<ul>
<li>Increase <code dir="auto">--max-tokens</code> budget</li>
<li>Add more relevant keywords with <code dir="auto">-r</code></li>
<li>Check exclusion summary for clues</li>
</ul>
<p><strong>Too many irrelevant files?</strong></p>
<ul>
<li>Use more specific keywords</li>
<li>Reduce <code dir="auto">--max-tokens</code> to force prioritization</li>
<li>Add exclusion patterns with <code dir="auto">-x</code></li>
</ul>
<p><strong>Context still too large?</strong></p>
<ul>
<li>Narrow keyword focus</li>
<li>Decrease token budget</li>
<li>Exclude test files: <code dir="auto">-x "test/,spec/"</code></li>
<li>Use specific file extensions: <code dir="auto">-e .go</code></li>
</ul> </div> <footer class="sl-flex astro-w5xlb7ko"> <div class="meta sl-flex astro-w5xlb7ko"> <a href="https://github.com/1broseidon/promptext/edit/main/docs-astro/src/content/docs/relevance-filtering.md" class="sl-flex print:hidden astro-3das6fpb"><svg aria-hidden="true" class="astro-3das6fpb astro-puc6xqsz" width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="--sl-icon-size: 1.2em;"><path d="M22 7.24a1 1 0 0 0-.29-.71l-4.24-4.24a1 1 0 0 0-1.1-.22 1 1 0 0 0-.32.22l-2.83 2.83L2.29 16.05a1 1 0 0 0-.29.71V21a1 1 0 0 0 1 1h4.24a1 1 0 0 0 .76-.29l10.87-10.93L21.71 8c.1-.1.17-.2.22-.33a1 1 0 0 0 0-.24v-.14l.07-.05ZM6.83 20H4v-2.83l9.93-9.93 2.83 2.83L6.83 20ZM18.17 8.66l-2.83-2.83 1.42-1.41 2.82 2.82-1.41 1.42Z"/></svg>Edit page</a>  </div> <div class="pagination-links print:hidden astro-lxj3ilja" dir="ltr">   </div>   </footer>  </div> </div>   </main> </div> </div>  </div> </div>  </body></html>